{"ast":null,"code":"import _regeneratorRuntime from\"D:/Thinkful/week8/qualaified/React_APIs_with_Hooks_Assignment_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Thinkful/week8/qualaified/React_APIs_with_Hooks_Assignment_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Thinkful/week8/qualaified/React_APIs_with_Hooks_Assignment_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./App.css\";import AlbumList from\"./AlbumList\";import UserList from\"./UserList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),albums=_useState6[0],setAlbums=_useState6[1];var title=document.title;// Load data from https://jsonplaceholder.typicode.com/todos?userId=3\nuseEffect(function(){document.title=\"Awesome Album App\";console.log(document.title);var abortController=new AbortController();function loadUsers(){return _loadUsers.apply(this,arguments);}function _loadUsers(){_loadUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,responseRead;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://jsonplaceholder.typicode.com/users\",{signal:abortController.signal});case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseRead=_context.sent;setUsers(responseRead);_context.next=17;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name===\"AbortError\")){_context.next=16;break;}console.log(\"Aborted\");_context.next=17;break;case 16:throw _context.t0;case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _loadUsers.apply(this,arguments);}loadUsers();return function(){document.title=title;abortController.abort();};},[]);useEffect(function(){var abortController=new AbortController();function loadAlbum(){return _loadAlbum.apply(this,arguments);}function _loadAlbum(){_loadAlbum=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,theAlbums;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"https://jsonplaceholder.typicode.com/albums?userId=\".concat(currentUser.id),{signal:abortController.signal});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:theAlbums=_context2.sent;setAlbums(theAlbums);_context2.next=17;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);if(!(_context2.t0.name===\"AbortError\")){_context2.next=16;break;}console.log(\"Aborted\");_context2.next=17;break;case 16:throw _context2.t0;case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return _loadAlbum.apply(this,arguments);}loadAlbum();return function(){abortController.abort();};},[currentUser]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left column\",children:/*#__PURE__*/_jsx(UserList,{users:users,setCurrentUser:setCurrentUser})}),/*#__PURE__*/_jsx(\"div\",{className:\"right column\",children:/*#__PURE__*/_jsx(AlbumList,{user:currentUser,albums:albums})})]});}export default App;","map":{"version":3,"sources":["D:/Thinkful/week8/qualaified/React_APIs_with_Hooks_Assignment_1/src/App.js"],"names":["React","useEffect","useState","AlbumList","UserList","App","users","setUsers","currentUser","setCurrentUser","albums","setAlbums","title","document","console","log","abortController","AbortController","loadUsers","fetch","signal","response","json","responseRead","name","abort","loadAlbum","id","theAlbums"],"mappings":"+hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,WAAP,CAEA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,eACaH,QAAQ,CAAC,EAAD,CADrB,wCACNI,KADM,eACCC,QADD,8BAEyBL,QAAQ,CAAC,EAAD,CAFjC,yCAENM,WAFM,eAEOC,cAFP,8BAGeP,QAAQ,CAAC,EAAD,CAHvB,yCAGNQ,MAHM,eAGEC,SAHF,eAIb,GAAMC,CAAAA,KAAK,CAAGC,QAAQ,CAACD,KAAvB,CACA;AACAX,SAAS,CAAC,UAAM,CACdY,QAAQ,CAACD,KAAT,CAAiB,mBAAjB,CACAE,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACD,KAArB,EACA,GAAMI,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CAHc,QAICC,CAAAA,SAJD,qIAId,mMAE2BC,CAAAA,KAAK,CAC1B,4CAD0B,CAE1B,CAAEC,MAAM,CAAEJ,eAAe,CAACI,MAA1B,CAF0B,CAFhC,QAEUC,QAFV,qCAM+BA,CAAAA,QAAQ,CAACC,IAAT,EAN/B,QAMUC,YANV,eAQIhB,QAAQ,CAACgB,YAAD,CAAR,CARJ,sFAUQ,YAAMC,IAAN,GAAe,YAVvB,2BAWMV,OAAO,CAACC,GAAR,CAAY,SAAZ,EAXN,sHAJc,4CAqBdG,SAAS,GACT,MAAO,WAAM,CACXL,QAAQ,CAACD,KAAT,CAAiBA,KAAjB,CACAI,eAAe,CAACS,KAAhB,GACD,CAHD,CAID,CA1BQ,CA0BN,EA1BM,CAAT,CA4BAxB,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CADc,QAECS,CAAAA,SAFD,qIAEd,uMAE2BP,CAAAA,KAAK,8DAC4BX,WAAW,CAACmB,EADxC,EAE1B,CAAEP,MAAM,CAAEJ,eAAe,CAACI,MAA1B,CAF0B,CAFhC,QAEUC,QAFV,uCAM4BA,CAAAA,QAAQ,CAACC,IAAT,EAN5B,QAMUM,SANV,gBAOIjB,SAAS,CAACiB,SAAD,CAAT,CAPJ,0FASQ,aAAMJ,IAAN,GAAe,YATvB,4BAUMV,OAAO,CAACC,GAAR,CAAY,SAAZ,EAVN,0HAFc,4CAkBdW,SAAS,GACT,MAAO,WAAM,CACXV,eAAe,CAACS,KAAhB,GACD,CAFD,CAGD,CAtBQ,CAsBN,CAACjB,WAAD,CAtBM,CAAT,CAuBA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,aAAf,uBACE,KAAC,QAAD,EAAU,KAAK,CAAEF,KAAjB,CAAwB,cAAc,CAAEG,cAAxC,EADF,EADF,cAIE,YAAK,SAAS,CAAC,cAAf,uBACE,KAAC,SAAD,EAAW,IAAI,CAAED,WAAjB,CAA8B,MAAM,CAAEE,MAAtC,EADF,EAJF,GADF,CAUD,CAED,cAAeL,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nimport AlbumList from \"./AlbumList\";\nimport UserList from \"./UserList\";\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [albums, setAlbums] = useState([]);\n  const title = document.title;\n  // Load data from https://jsonplaceholder.typicode.com/todos?userId=3\n  useEffect(() => {\n    document.title = \"Awesome Album App\";\n    console.log(document.title);\n    const abortController = new AbortController();\n    async function loadUsers() {\n      try {\n        const response = await fetch(\n          \"https://jsonplaceholder.typicode.com/users\",\n          { signal: abortController.signal }\n        );\n        const responseRead = await response.json();\n\n        setUsers(responseRead);\n      } catch (error) {\n        if (error.name === \"AbortError\") {\n          console.log(\"Aborted\");\n        } else {\n          throw error;\n        }\n      }\n    }\n    loadUsers();\n    return () => {\n      document.title = title;\n      abortController.abort();\n    };\n  }, []);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function loadAlbum() {\n      try {\n        const response = await fetch(\n          `https://jsonplaceholder.typicode.com/albums?userId=${currentUser.id}`,\n          { signal: abortController.signal }\n        );\n        const theAlbums = await response.json();\n        setAlbums(theAlbums);\n      } catch (error) {\n        if (error.name === \"AbortError\") {\n          console.log(\"Aborted\");\n        } else {\n          throw error;\n        }\n      }\n    }\n    loadAlbum();\n    return () => {\n      abortController.abort();\n    };\n  }, [currentUser]);\n  return (\n    <div className=\"App\">\n      <div className=\"left column\">\n        <UserList users={users} setCurrentUser={setCurrentUser} />\n      </div>\n      <div className=\"right column\">\n        <AlbumList user={currentUser} albums={albums} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}